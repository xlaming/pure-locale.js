class PureLocale{constructor(e={}){this.config={two_code:!0,default:"en",allowed_languages:["en"],locales_folder:"locales"},this.parseConfiguration(e),this.detectLanguage(),this.initialize()}initialize(){let e=this.getLanguage();e!=this.config.default&&fetch(`${this.config.locales_folder}/${e}.json`).then(e=>e.json()).then(e=>this.translate(e))}detectLanguage(){let e=this.config.default,t=navigator.language||navigator.userLanguage;if(this.config.two_code){let a=t.split("-")[0];if(this.config.allowed_languages.includes(a))return this.setLanguage(a)}return this.setLanguage(e)}translate(e){var t=["INPUT","TEXTAREA"];let a=document.querySelectorAll("[data-translate]"),l=this.flatObject(e);a.forEach(function(e,a){let n=e.dataset.translate;t.includes(e.tagName)?e.placeholder=l[n]:e.innerHTML=l[n]})}parseConfiguration(e){"boolean"==typeof e.two_code&&(this.config.two_code=e.two_code),"string"==typeof e.default&&(this.config.default=e.default),"string"==typeof e.locales_folder&&(this.config.locales_folder=e.locales_folder),"object"==typeof e.allowed_languages&&(this.config.allowed_languages=e.allowed_languages)}setLanguage(e){this.currentLanguage=e}getLanguage(){return this.currentLanguage}flatObject(e){return Object.keys(e).reduce((t,a)=>(function e(t,a,l,n=""){let o=[n,a].filter(e=>e).join(".");return"object"==typeof l?Object.keys(l).reduce((t,a)=>e(t,a,l[a],o),t):Object.assign(t,{[o]:l})})(t,a,e[a]),{})}}